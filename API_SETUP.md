# 台股 API 設定說明

本應用程式使用**雙重 API 策略**來取得台灣股市資料。

## 🎯 給一般使用者

### 無需任何設定！

應用程式會自動使用**台灣證券交易所 (TWSE) 官方 API**，完全免費且無限制。

### 可選：註冊 FinMind 以獲得更好的服務

如果您想要更快的查詢速度和更即時的資料：

1. **註冊 FinMind 帳號**
   - 前往：https://finmindtrade.com/
   - 註冊並取得您的 API Token

2. **在 APP 中設定 Token**
   - 開啟 APP
   - 點擊右上角「設定」圖示 ⚙️
   - 在「FinMind API Token」欄位貼上您的 Token
   - 點擊「儲存」

3. **完成！**
   - APP 會優先使用您的 FinMind Token
   - 如果 FinMind 失敗，會自動切換到 TWSE API
   - Token 只儲存在您的裝置上，安全無虞

## 📊 API 策略流程

```
查詢股價
  ↓
您有設定 FinMind Token？
├─ 是 → ① 使用 FinMind API
│         ↓ 失敗
│         ② 自動切換到 TWSE 官方 API
│
└─ 否 → ② 直接使用 TWSE 官方 API
         ↓ 失敗
         ✗ 該股票不顯示損益（避免錯誤資料）
```

## 📋 API 比較

| 特性 | FinMind API | TWSE 盤中即時 API |
|------|-------------|---------------|
| **費用** | 免費（有限制） | 完全免費 |
| **需要註冊** | 是 | 否 |
| **請求限制** | 500次/天 | 無限制 |
| **資料延遲** | ~15分鐘 | **盤中約 5 秒** |
| **查詢速度** | 快 | 中等 |
| **盤中即時** | ✓ | **✓** |
| **適用場景** | 頻繁使用 | **一般使用（推薦）** |

## 💡 建議

### 一般使用者
✅ 不需設定任何東西，直接使用 TWSE 官方 API

### 頻繁使用者
✅ 註冊 FinMind 並設定 Token，獲得更快速度

## 🔒 隱私與安全

- ✅ Token 僅儲存在您的裝置上
- ✅ 不會上傳到任何伺服器
- ✅ 可隨時在設定中清除
- ✅ 所有連線使用 HTTPS 加密

## ❓ 常見問題

### Q: 我一定要註冊 FinMind 嗎？
A: 不用！預設使用 TWSE 官方 API 就很好用了。

### Q: FinMind 免費版有什麼限制？
A: 每天最多 500 次請求，對個人使用已經非常充足。

### Q: 如果我設定了 Token 後想取消怎麼辦？
A: 在設定畫面點擊「清除」按鈕即可，APP 會自動切回 TWSE API。

### Q: 為什麼有時候股票不顯示損益？
A: 代表兩個 API 都無法取得該股票的資料，可能是網路問題或股票代碼錯誤。我們不會顯示錯誤的資料以避免誤導您。

### Q: 資料會即時更新嗎？
A:
- **TWSE 官方 API**：盤中即時更新，延遲約 5 秒（交易時間 09:00-13:30）
- **FinMind API**：資料延遲約 15 分鐘

### Q: 盤後或假日會顯示什麼資料？
A: 顯示最近一個交易日的收盤價。

### Q: 支援哪些股票？
A: 支援所有台灣上市 (TSE) 和上櫃 (OTC) 股票。系統會自動判斷並查詢。

## 🌐 資料來源

### FinMind API
- 官網：https://finmindtrade.com/
- 文件：https://api.finmindtrade.com/docs
- 開源專案，台灣金融資料平台

### TWSE 盤中即時 API
- 官網：https://www.twse.com.tw/
- 台灣證券交易所官方資料
- 完全免費，無需註冊
- **盤中即時更新**（延遲約 5 秒）
- 支援上市 (TSE) 和上櫃 (OTC) 股票
- API 端點：https://mis.twse.com.tw/stock/api/getStockInfo.jsp

---

**投資警語**：本 APP 提供的資料僅供參考，投資有風險，請謹慎評估。
